<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Year 3 Applied Electricity - Direct Current Machines</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .tab-container {
            border: 1px solid #ddd;
            margin-top: 20px;
        }
        .tab-buttons {
            display: flex;
            background-color: #f1f1f1;
            overflow: hidden;
        }
        .tab-button {
            background-color: inherit;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 17px;
        }
        .tab-button:hover {
            background-color: #ddd;
        }
        .tab-button.active {
            background-color: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border-top: none;
        }
        .quiz-container, .simulation-container {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        input[type="number"], input[type="text"], textarea {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
        }
        button {
            background-color: #3498db;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #2980b9;
        }
        .result {
            margin-top: 10px;
            font-weight: bold;
        }
        #dictionary-results {
            margin-top: 20px;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        .partial {
            color: orange;
        }
        .model-answer {
            display: none;
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Year 3 Applied Electricity - Direct Current Machines</h1>

    <div class="tab-container">
        <div class="tab-buttons">
            <button class="tab-button" onclick="openTab(event, 'content')">Content</button>
            <button class="tab-button" onclick="openTab(event, 'work-solutions')">Work Solutions</button>
            <button class="tab-button" onclick="openTab(event, 'quiz')">Quiz</button>
            <button class="tab-button" onclick="openTab(event, 'simulations')">Simulations</button>
            <button class="tab-button" onclick="openTab(event, 'resources')">Resources</button>
            <button class="tab-button" onclick="openTab(event, 'projects')">Projects</button>
            <button class="tab-button" onclick="openTab(event, 'dictionary')">Dictionary</button>
        </div>

        <div id="content" class="tab-content">
            <h2>Direct Current Machines</h2>
            
            <h3>1. D.C. Generators</h3>
            <p>D.C. generators are machines that convert mechanical energy into electrical energy in the form of direct current. They play a crucial role in various applications, including backup power systems and specialized industrial processes.</p>
            
            <h4>1.1 Principle of Operation</h4>
            <p>D.C. generators operate on the principle of electromagnetic induction, as discovered by Michael Faraday. When a conductor moves through a magnetic field, or when a magnetic field moves past a conductor, an electromotive force (EMF) is induced in the conductor. In a D.C. generator, this induced EMF is converted to direct current using a commutator.</p>
            
            <h4>1.2 Components of a D.C. Generator</h4>
            <ul>
                <li><strong>Yoke:</strong> The outer frame that supports the entire machine and provides a path for the magnetic flux.</li>
                <li><strong>Pole Cores and Pole Shoes:</strong> Create and direct the magnetic field.</li>
                <li><strong>Field Windings:</strong> Coils wound around the pole cores to produce the magnetic field.</li>
                <li><strong>Armature Core:</strong> The rotating part where the EMF is induced.</li>
                <li><strong>Armature Windings:</strong> Conductors placed in slots on the armature core.</li>
                <li><strong>Commutator:</strong> A split ring that converts the alternating current induced in the armature to direct current in the external circuit.</li>
                <li><strong>Brushes:</strong> Carbon blocks that make sliding contact with the commutator to collect the generated current.</li>
            </ul>

            <h4>1.3 Types of D.C. Generators</h4>
            <p>D.C. generators are classified based on how their field windings are connected to the armature:</p>
            <ol>
                <li><strong>Separately Excited Generators:</strong> The field winding is energized from an independent external DC source.</li>
                <li><strong>Self-Excited Generators:</strong> The field winding is energized by the current produced by the generator itself. These are further classified into:
                    <ul>
                        <li><strong>Series Generators:</strong> Field winding is connected in series with the armature.</li>
                        <li><strong>Shunt Generators:</strong> Field winding is connected in parallel with the armature.</li>
                        <li><strong>Compound Generators:</strong> Have both series and shunt field windings.</li>
                    </ul>
                </li>
            </ol>

            <h4>1.4 Applications of D.C. Generators in Ghana</h4>
            <p>While AC power is more common for large-scale power distribution, D.C. generators still find important applications in Ghana:</p>
            <ul>
                <li><strong>Backup Power Systems:</strong> Many businesses and institutions in Ghana use D.C. generators as part of their uninterruptible power supply (UPS) systems.</li>
                <li><strong>Telecommunications:</strong> D.C. generators are used in remote telecommunication towers across Ghana to provide reliable power.</li>
                <li><strong>Mining Industry:</strong> Some specialized equipment in Ghana's mining sector uses D.C. power, necessitating the use of D.C. generators.</li>
                <li><strong>Research and Education:</strong> Universities and research institutions in Ghana use D.C. generators for experimental purposes and to teach electrical engineering principles.</li>
            </ul>

            <h3>2. D.C. Motors</h3>
            <p>D.C. motors are machines that convert electrical energy in the form of direct current into mechanical energy. They are widely used in various applications due to their excellent speed control characteristics.</p>

            <h4>2.1 Principle of Operation</h4>
            <p>The principle of operation of a D.C. motor is based on the fact that when a current-carrying conductor is placed in a magnetic field, it experiences a force. This force causes the motor to rotate. The direction of rotation can be determined using Fleming's Left-Hand Rule.</p>

            <h4>2.2 Components of a D.C. Motor</h4>
            <p>The components of a D.C. motor are essentially the same as those of a D.C. generator. The main difference lies in their function:</p>
            <ul>
                <li><strong>Armature:</strong> Receives electrical power and converts it to mechanical power.</li>
                <li><strong>Field Winding:</strong> Produces the main magnetic field.</li>
                <li><strong>Commutator and Brushes:</strong> Ensure that the current in the armature is always in the correct direction to produce continuous rotation.</li>
            </ul>

            <h4>2.3 Types of D.C. Motors</h4>
            <p>Like D.C. generators, D.C. motors are classified based on how their field windings are connected:</p>
            <ol>
                <li><strong>Series Motors:</strong> Field winding is connected in series with the armature. They provide high starting torque and are used in applications like electric trains and cranes.</li>
                <li><strong>Shunt Motors:</strong> Field winding is connected in parallel with the armature. They provide nearly constant speed and are used in applications requiring constant speed under varying load conditions.</li>
                <li><strong>Compound Motors:</strong> Have both series and shunt field windings. They combine the advantages of both series and shunt motors.</li>
            </ol>

            <h4>2.4 Speed Control of D.C. Motors</h4>
            <p>One of the main advantages of D.C. motors is the ease with which their speed can be controlled. The speed of a D.C. motor can be varied by:</p>
            <ul>
                <li>Varying the armature voltage</li>
                <li>Varying the field current</li>
                <li>Armature resistance control</li>
            </ul>

            <h4>2.5 Applications of D.C. Motors in Ghana</h4>
            <p>D.C. motors find various applications in Ghana's industrial and transportation sectors:</p>
            <ul>
                <li><strong>Mining Equipment:</strong> Many pieces of mining equipment in Ghana's large mining industry use D.C. motors due to their high starting torque and speed control capabilities.</li>
                <li><strong>Steel Mills:</strong> D.C. motors are used in steel rolling mills in Ghana for precise speed control.</li>
                <li><strong>Elevators:</strong> Some elevators in high-rise buildings in cities like Accra use D.C. motors for smooth operation and precise control.</li>
                <li><strong>Electric Vehicles:</strong> As Ghana explores sustainable transportation options, D.C. motors are being used in electric vehicle prototypes developed by local engineers.</li>
                <li><strong>Paper Mills:</strong> D.C. motors are used in paper mills for applications requiring constant torque over a wide speed range.</li>
            </ul>

            <h4>2.6 Maintenance of D.C. Machines in Ghana</h4>
            <p>Proper maintenance of D.C. machines is crucial for their longevity and efficient operation. In Ghana, where harsh environmental conditions can affect electrical equipment, the following maintenance practices are important:</p>
            <ul>
                <li>Regular cleaning to prevent dust accumulation, especially in mining and industrial areas</li>
                <li>Periodic inspection and replacement of brushes</li>
                <li>Checking and maintaining proper commutator condition</li>
                <li>Ensuring proper cooling and ventilation to prevent overheating</li>
                <li>Regular insulation resistance tests to prevent electrical faults</li>
            </ul>
            <p>Many technical institutes and vocational schools in Ghana offer courses on the maintenance and repair of D.C. machines, contributing to the local expertise in this field.</p>
        </div>

        <div id="work-solutions" class="tab-content">
            <h2>Work Solutions</h2>

            <h3>Problem 1: D.C. Generator EMF Equation</h3>
            <p>A 4-pole D.C. generator has 540 conductors in its armature. The flux per pole is 0.02 Wb. Calculate the generated EMF when the armature rotates at 1200 rpm.</p>
            <h4>Solution:</h4>
            <ol>
                <li>The EMF equation for a D.C. generator is:
                    <br>E = (ΦPNZc) / (60A)
                    <br>Where:
                    <br>E = generated EMF (V)
                    <br>Φ = flux per pole (Wb)
                    <br>P = number of poles
                    <br>N = speed of rotation (rpm)
                    <br>Zc = total number of armature conductors
                    <br>A = number of parallel paths (2 for wave winding, P for lap winding)</li>
                <li>Given:
                    <br>P = 4
                    <br>Zc = 540
                    <br>Φ = 0.02 Wb
                    <br>N = 1200 rpm
                    <br>Assume wave winding, so A = 2</li>
                <li>Substituting the values:
                    <br>E = (0.02 × 4 × 1200 × 540) / (60 × 2)
                    <br>E = 432 V</li>
            </ol>
            <p>Therefore, the generated EMF is 432 V.</p>

            <h3>Problem 2: D.C. Motor Torque Calculation</h3>
            <p>A 230V D.C. shunt motor has an armature resistance of 0.5Ω. When running at rated speed, it draws a line current of 20A. The field winding draws 1A. Calculate the torque developed by the motor.</p>
            <h4>Solution:</h4>
            <ol>
                <li>First, calculate the armature current:
                    <br>Ia = Line current - Field current
                    <br>Ia = 20 - 1 = 19A</li>
                <li>Calculate the back EMF:
                    <br>Eb = V - IaRa
                    <br>Eb = 230 - (19 × 0.5) = 220.5V</li>
                <li>The torque equation for a D.C. motor is:
                    <br>T = (Eb × Ia) / (2π × N/60)
                    <br>Where:
                    <br>T = torque (Nm)
                    <br>N = speed (rpm)</li>
                <li>We don't know the speed, but we can calculate the torque in terms of speed:
                    <br>T = (220.5 × 19) / (2π × N/60)
                    <br>T = (251370) / (2πN) × 60
                    <br>T = 39,974 / N Nm</li>
            </ol>
            <p>The torque developed by the motor is 39,974 / N Nm, where N is the speed in rpm.</p>

            <h3>Problem 3: D.C. Motor Speed Control</h3>
            <p>A 240V D.C. shunt motor runs at 1000 rpm when the armature current is 50A. The armature resistance is 0.2Ω. Calculate the speed when an extra resistance of 0.4Ω is added to the armature circuit, assuming the flux remains constant and the armature current is now 40A.</p>
            <h4>Solution:</h4>
            <ol>
                <li>For the initial condition:
                    <br>Eb1 = V - IaRa
                    <br>Eb1 = 240 - (50 × 0.2) = 230V</li>
                <li>For the new condition:
                    <br>Eb2 = V - Ia(Ra + Rextra)
                    <br>Eb2 = 240 - 40(0.2 + 0.4) = 216V</li>
                <li>The speed of a D.C. motor is directly proportional to its back EMF when the flux is constant:
                    <br>N2 / N1 = Eb2 / Eb1</li>
                <li>Substituting the values:
                    <br>N2 / 1000 = 216 / 230
                    <br>N2 = (216 / 230) × 1000 = 939 rpm</li>
            </ol>
            <p>Therefore, the new speed of the motor is approximately 939 rpm.</p>
        </div>

        <div id="quiz" class="tab-content">
            <h2>Quiz</h2>
            <div id="quiz-menu">
                <button onclick="startQuiz('study')">Start Study Mode</button>
                <button onclick="startQuiz('exam')">Start Exam Mode</button>
            </div>
            <div id="quiz-container" style="display: none;">
                <div id="timer" style="display: none;"></div>
                <div id="questions"></div>
                <button onclick="submitQuiz()">Submit Quiz</button>
            </div>
            <div id="quiz-result"></div>
        </div>

        <div id="simulations" class="tab-content">
            <h2>Simulations</h2>
            <div class="simulation-container">
                <h3>D.C. Generator EMF Calculator</h3>
                <p>Calculate the EMF generated by a D.C. generator:</p>
                <label for="flux">Flux per pole (Wb):</label>
                <input type="number" id="flux" step="0.001">
                <label for="poles">Number of poles:</label>
                <input type="number" id="poles" min="2" step="2">
                <label for="speed">Speed (rpm):</label>
                <input type="number" id="speed" min="1">
                <label for="conductors">Number of conductors:</label>
                <input type="number" id="conductors" min="1">
                <label for="winding-type">Winding Type:</label>
                <select id="winding-type">
                    <option value="wave">Wave</option>
                    <option value="lap">Lap</option>
                </select>
                <button onclick="calculateGeneratorEMF()">Calculate EMF</button>
                <div id="generator-emf-result" class="result"></div>
            </div>
            <div class="simulation-container">
                <h3>D.C. Motor Speed Calculator</h3>
                <p>Calculate the speed of a D.C. motor:</p>
                <label for="voltage">Applied Voltage (V):</label>
                <input type="number" id="voltage" min="1">
                <label for="armature-current">Armature Current (A):</label>
                <input type="number" id="armature-current" step="0.1">
                <label for="armature-resistance">Armature Resistance (Ω):</label>
                <input type="number" id="armature-resistance" step="0.01">
                <label for="torque-constant">Torque Constant (Nm/A):</label>
                <input type="number" id="torque-constant" step="0.01">
                <button onclick="calculateMotorSpeed()">Calculate Speed</button>
                <div id="motor-speed-result" class="result"></div>
            </div>
        </div>

        <div id="resources" class="tab-content">
            <h2>Resources</h2>
            <h3>Videos</h3>
            <ul>
                <li><a href="https://www.youtube.com/watch?v=QZOvL7Flm-o" target="_blank">Working Principle of DC Generator</a></li>
                <li><a href="https://www.youtube.com/watch?v=CWulQ1ZSE3c" target="_blank">DC Motor, How it works?</a></li>
            </ul>
            <h3>Online Resources</h3>
            <ul>
                <li><a href="https://www.electronics-tutorials.ws/electromagnetism/electromagnetic-induction.html" target="_blank">Electromagnetic Induction Tutorial</a></li>
                <li><a href="https://www.electrical4u.com/construction-of-dc-generator/" target="_blank">Construction of DC Generator</a></li>
                <li><a href="https://www.electrical4u.com/types-of-dc-motor/" target="_blank">Types of DC Motors</a></li>
            </ul>
            <h3>Books</h3>
            <ul>
                <li>"Electric Machinery Fundamentals" by Stephen J. Chapman</li>
                <li>"DC Machines and Transformers" by K. Murugesh Kumar</li>
            </ul>
        </div>

        <div id="projects" class="tab-content">
            <h2>Projects</h2>
            <h3>1. Build a Simple DC Motor</h3>
            <p><strong>Objective:</strong> Construct a basic DC motor to understand its working principle.</p>
            <p><strong>Materials needed:</strong></p>
            <ul>
                <li>Copper wire</li>
                <li>Strong magnets</li>
                <li>AA battery</li>
                <li>Paper clips</li>
                <li>Cardboard</li>
                <li>Electrical tape</li>
            </ul>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Create a coil by winding copper wire around a cylindrical object.</li>
                <li>Remove the insulation from the ends of the wire.</li>
                <li>Attach the coil to a battery using paper clips as supports.</li>
                <li>Place magnets on either side of the coil.</li>
                <li>Connect the battery and observe the coil's rotation.</li>
            </ol>

            <h3>2. DC Generator from a Bicycle Dynamo</h3>
            <p><strong>Objective:</strong> Convert a bicycle dynamo into a hand-cranked DC generator.</p>
            <p><strong>Materials needed:</strong></p>
            <ul>
                <li>Bicycle dynamo</li>
                <li>Hand crank (can be made from wood or 3D printed)</li>
                <li>Rectifier diode</li>
                <li>Capacitor</li>
                <li>Voltmeter</li>
                <li>LED for demonstration</li>
            </ul>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Disassemble the dynamo and attach the hand crank to the rotor shaft.</li>
                <li>Connect the rectifier diode to convert AC to DC.</li>
                <li>Add a capacitor to smooth the output voltage.</li>
                <li>Use a voltmeter to measure the output at different cranking speeds.</li>
                <li>Demonstrate the generator by powering an LED.</li>
            </ol>

            <h3>3. DC Motor Speed Controller</h3>
            <p><strong>Objective:</strong> Design and build a simple speed controller for a DC motor.</p>
            <p><strong>Materials needed:</strong></p>
            <ul>
                <li>Small DC motor</li>
                <li>Potentiometer</li>
                <li>Transistor (e.g., TIP120)</li>
                <li>Diode</li>
                <li>Resistors</li>
                <li>Battery or power supply</li>
                <li>Breadboard and connecting wires</li>
            </ul>
            <p><strong>Steps:</strong></p>
            <ol>
                <li>Set up the circuit on the breadboard with the transistor controlling the motor current.</li>
                <li>Connect the potentiometer to control the transistor's base current.</li>
                <li>Add a flyback diode across the motor for protection.</li>
                <li>Connect the power supply and test the speed control by adjusting the potentiometer.</li>
                <li>Measure the motor's speed at different potentiometer settings using a tachometer or a simple optical sensor.</li>
            </ol>
        </div>

        <div id="dictionary" class="tab-content">
            <h2>Dictionary</h2>
            <input type="text" id="dictionary-search" placeholder="Search for a term...">
            <button onclick="searchDictionary()">Search</button>
            <div id="dictionary-results"></div>
        </div>
    </div>

    <script>
        function openTab(evt, tabName) {
            var i, tabContent, tabButtons;
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
            }
            tabButtons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabButtons.length; i++) {
                tabButtons[i].className = tabButtons[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Quiz data
        const objectiveQuestions = [
            {
                question: "What is the main difference between a D.C. generator and a D.C. motor?",
                options: [
                    "A D.C. generator converts mechanical energy to electrical energy, while a D.C. motor does the opposite",
                    "A D.C. generator uses brushes, while a D.C. motor doesn't",
                    "A D.C. generator has a commutator, while a D.C. motor doesn't",
                    "There is no difference; they are the same machine"
                ],
                correctAnswer: "a"
            },
            {
                question: "Which component of a D.C. machine converts AC to DC in the armature circuit?",
                options: [
                    "Slip rings",
                    "Commutator",
                    "Field windings",
                    "Brushes"
                ],
                correctAnswer: "b"
            },
            {
                question: "In a series D.C. motor, how are the field windings connected?",
                options: [
                    "In series with the armature",
                    "In parallel with the armature",
                    "Independent of the armature",
                    "In both series and parallel with the armature"
                ],
                correctAnswer: "a"
            },
            {
                question: "Which type of D.C. motor provides the highest starting torque?",
                options: [
                    "Shunt motor",
                    "Series motor",
                    "Compound motor",
                    "Separately excited motor"
                ],
                correctAnswer: "b"
            },
            {
                question: "What is the purpose of interpoles in a D.C. machine?",
                options: [
                    "To increase the output voltage",
                    "To reduce armature reaction and improve commutation",
                    "To provide additional mechanical support",
                    "To increase the magnetic field strength"
                ],
                correctAnswer: "b"
            }
        ];

        const subjectiveQuestions = [
            {
                question: "Explain the principle of operation of a D.C. generator and how it produces direct current.",
                keywords: ["electromagnetic induction", "commutator", "brushes", "armature", "field windings", "Fleming's right-hand rule"],
                modelAnswer: "A D.C. generator operates on the principle of electromagnetic induction. When the armature conductors rotate in a magnetic field produced by the field windings, an EMF is induced in them according to Faraday's law. This induced EMF is alternating in nature. The unique feature of a D.C. generator is the commutator, which, in conjunction with the brushes, converts this alternating EMF into a unidirectional EMF in the external circuit. As the armature rotates, the commutator segments connect different armature coils to the brushes, ensuring that the current in the external circuit always flows in the same direction. The magnitude of the induced EMF can be determined using Fleming's right-hand rule. Factors affecting the generated EMF include the strength of the magnetic field, the number of armature conductors, and the speed of rotation."
            },
            {
                question: "Discuss the different types of D.C. motors and their characteristics. How does their construction affect their performance?",
                keywords: ["series motor", "shunt motor", "compound motor", "speed-torque characteristics", "field windings", "armature reaction"],
                modelAnswer: "D.C. motors are classified based on how their field windings are connected to the armature circuit: 1) Series motors have field windings connected in series with the armature. They provide high starting torque and variable speed, making them suitable for applications like electric trains and cranes. However, they can overspeed if the load is removed. 2) Shunt motors have field windings connected in parallel with the armature. They provide nearly constant speed under varying load conditions, making them ideal for applications requiring constant speed, such as lathes and centrifugal pumps. 3) Compound motors have both series and shunt field windings, combining characteristics of both types. They can be cumulative (providing high starting torque and relatively constant speed) or differential (providing very constant speed but poor starting torque). The construction affects performance in several ways: The number of turns in the field winding affects the strength of the magnetic field and thus the torque. The armature winding design affects the speed-torque characteristics and efficiency. Interpoles or compensating windings can be added to reduce armature reaction and improve commutation, especially in larger motors. The choice of motor depends on the specific application requirements, balancing factors like starting torque, speed regulation, and efficiency."
            },
            {
                question: "Explain the concept of back EMF in D.C. motors and its significance in motor operation.",
                keywords: ["counter electromotive force", "Lenz's law", "speed regulation", "motor efficiency", "starting current"],
                modelAnswer: "Back EMF, or counter electromotive force, is a fundamental concept in the operation of D.C. motors. As the motor armature rotates in the magnetic field, it acts as a generator and produces an EMF according to Faraday's law of electromagnetic induction. This induced EMF opposes the applied voltage, hence the term 'back' EMF. The magnitude of the back EMF is proportional to the motor's speed and the strength of the magnetic field. The significance of back EMF in motor operation is multifaceted: 1) Speed Regulation: As the motor speed increases, the back EMF increases, reducing the effective voltage across the armature and thus limiting the speed. This provides a natural speed regulation mechanism. 2) Efficiency: The back EMF represents the mechanical power output of the motor. The closer the back EMF is to the applied voltage, the higher the motor's efficiency. 3) Starting Current: When the motor is stationary, there's no back EMF, resulting in a high starting current. As the motor speeds up and back EMF develops, the current decreases to its normal running value. 4) Protection: If the mechanical load is suddenly removed, the motor would tend to speed up, but the increasing back EMF limits this speed increase, protecting the motor. Understanding back EMF is crucial for motor control and for designing motor drive systems. It's also the basis for techniques like regenerative braking in electric vehicles, where the motor acts as a generator to convert kinetic energy back into electrical energy."
            },
            {
                question: "Describe the process of commutation in D.C. machines and explain why it's necessary. What are some common commutation problems and how can they be mitigated?",
                keywords: ["brush position", "armature coils", "spark-less commutation", "interpoles", "compensating windings", "brush grade"],
                modelAnswer: "Commutation in D.C. machines is the process of reversing the current in the armature coils as they pass from the influence of one pole to another. It's necessary to maintain unidirectional current flow in the external circuit for generators and to ensure continuous rotation in the same direction for motors. The process occurs when a coil is short-circuited by the brush as it passes under it. Ideally, the current in the short-circuited coil should reduce to zero and then build up in the opposite direction smoothly, without sparking. However, several factors can lead to commutation problems: 1) Reactance voltage: The rapid change of current in the coil being commutated induces a voltage that opposes the change, leading to sparking. 2) Armature reaction: The magnetic field produced by the armature current distorts the main field, shifting the neutral axis and causing the coils to commutate in a non-ideal position. 3) High speed: Faster speeds give less time for commutation, potentially leading to incomplete current reversal. To mitigate these problems, several techniques are employed: 1) Interpoles: Small auxiliary poles placed between the main poles to produce a magnetic field that counteracts the reactance voltage. 2) Compensating windings: Conductors embedded in the pole faces to neutralize armature reaction. 3) Optimized brush position: Adjusting brush position to the actual neutral axis. 4) Appropriate brush grade: Using brushes with suitable resistance and current-carrying capacity. 5) Proper maintenance: Regular cleaning of the commutator and timely replacement of worn brushes. Good commutation is crucial for the efficient and reliable operation of D.C. machines, reducing wear on the brushes and commutator and extending the machine's lifespan."
            },
            {
                question: "Discuss the methods of speed control in D.C. motors and their applications in industrial settings. How do these methods compare in terms of efficiency and practicality?",
                keywords: ["armature voltage control", "field flux control", "armature resistance control", "Ward-Leonard system", "electronic speed control"],
                modelAnswer: "Speed control in D.C. motors is achieved through three main methods: 1) Armature voltage control: By varying the voltage applied to the armature, the speed can be controlled below the base speed. This method is efficient as it doesn't introduce additional losses. It's widely used in applications requiring wide speed ranges, like in rolling mills or paper machines. 2) Field flux control: By decreasing the field current, the flux is reduced, increasing the speed above the base speed. This method is efficient but has limitations in the maximum speed due to commutation issues and mechanical constraints. It's used in applications requiring constant power over a speed range, such as in machine tools. 3) Armature resistance control: By adding resistance in series with the armature, the speed can be reduced. This method is simple but inefficient due to power loss in the resistor. It's used in small motors or for starting purposes. In industrial settings, these methods are often combined or implemented in sophisticated ways: The Ward-Leonard system uses a motor-generator set to provide variable voltage to the armature, allowing for smooth and efficient speed control over a wide range. It's used in large motors where precise speed control is required, such as in elevators or mine hoists. Modern electronic speed control uses power electronics to vary the armature voltage efficiently. Techniques like pulse width modulation (PWM) allow for precise and efficient speed control. This method is increasingly common due to its flexibility and energy efficiency. Comparing these methods: Armature voltage control and electronic speed control are the most efficient methods, as they don't introduce significant additional losses. Field flux control is also efficient but limited in range. Armature resistance control is the least efficient but can be practical for small motors or specific applications due to its simplicity. In terms of practicality, electronic speed control is becoming dominant due to its flexibility, efficiency, and decreasing cost. However, in some high-power applications or harsh environments, traditional methods may still be preferred. The choice of speed control method depends on factors such as the required speed range, power rating, efficiency requirements, and environmental conditions. In many modern applications, a combination of methods may be used to achieve optimal performance across different operating conditions."
            }
        ];

        let quizMode = null;
        let timeRemaining = 0;
        let timer = null;

        function startQuiz(mode) {
            quizMode = mode;
            document.getElementById('quiz-menu').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            document.getElementById('quiz-result').innerHTML = '';

            let questionsHtml = '';
            objectiveQuestions.forEach((q, index) => {
                questionsHtml += `
                    <div class="quiz-question">
                        <p>${index + 1}. ${q.question}</p>
                        <div class="quiz-options">
                            ${q.options.map((option, i) => `
                                <label>
                                    <input type="radio" name="q${index + 1}" value="${['a', 'b', 'c', 'd'][i]}">
                                    ${option}
                                </label><br>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            subjectiveQuestions.forEach((q, index) => {
                questionsHtml += `
                    <div class="quiz-question">
                        <p>${index + objectiveQuestions.length + 1}. ${q.question}</p>
                        <textarea name="q${index + objectiveQuestions.length + 1}"></textarea>
                    </div>
                `;
            });

            document.getElementById('questions').innerHTML = questionsHtml;

            if (mode === 'exam') {
                timeRemaining = 900; // 15 minutes
                document.getElementById('timer').style.display = 'block';
                updateTimer();
                timer = setInterval(updateTimer, 1000);
            }
        }

        function updateTimer() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById('timer').textContent = `Time remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (timeRemaining <= 0) {
                clearInterval(timer);
                submitQuiz();
            }
            timeRemaining--;
        }

        function submitQuiz() {
            clearInterval(timer);
            document.getElementById('timer').style.display = 'none';

            let score = 0;
            let maxScore = objectiveQuestions.length * 3 + subjectiveQuestions.length * 7;
            let reviewContent = '';

            objectiveQuestions.forEach((q, index) => {
                const selectedAnswer = document.querySelector(`input[name="q${index + 1}"]:checked`)?.value;
                if (selectedAnswer === q.correctAnswer) {
                    score += 3;
                    reviewContent += `<p class="correct">Question ${index + 1}: Correct! (3/3 marks)</p>`;
                } else {
                    reviewContent += `<p class="incorrect">Question ${index + 1}: Incorrect. (0/3 marks)</p>`;
                    if (quizMode === 'study') {
                        reviewContent += `<p>The correct answer was: ${q.options[['a', 'b', 'c', 'd'].indexOf(q.correctAnswer)]}</p>`;
                    }
                }
            });

            subjectiveQuestions.forEach((q, index) => {
                const answer = document.querySelector(`textarea[name="q${index + objectiveQuestions.length + 1}"]`).value.trim().toLowerCase();
                const matchedKeywords = q.keywords.filter(keyword => answer.includes(keyword.toLowerCase()));
                const questionScore = Math.min(matchedKeywords.length, 7);
                score += questionScore;

                if (questionScore === 7) {
                    reviewContent += `<p class="correct">Question ${index + objectiveQuestions.length + 1}: Excellent! (${questionScore}/7 marks)</p>`;
                } else if (questionScore > 0) {
                    reviewContent += `<p class="partial">Question ${index + objectiveQuestions.length + 1}: Good attempt. (${questionScore}/7 marks)</p>`;
                } else {
                    reviewContent += `<p class="incorrect">Question ${index + objectiveQuestions.length + 1}: Needs improvement. (${questionScore}/7 marks)</p>`;
                }

                if (quizMode === 'study') {
                    reviewContent += `<p>Keywords to include: ${q.keywords.join(', ')}</p>`;
                    reviewContent += `<p class="show-more" onclick="toggleModelAnswer(${index + objectiveQuestions.length + 1})">Show Model Answer</p>`;
                    reviewContent += `<div id="model-answer-${index + objectiveQuestions.length + 1}" class="model-answer">${q.modelAnswer}</div>`;
                }
            });

            const percentage = (score / maxScore) * 100;
            let resultMessage = `<h3>Quiz Results</h3><p>Your score: ${score}/${maxScore} (${percentage.toFixed(2)}%)</p>`;

            if (percentage >= 70) {
                resultMessage += '<p class="correct">Congratulations! You have qualified for the final examination and certification.</p>';
            } else {
                resultMessage += '<p class="incorrect">You need to score at least 70% to qualify for the final examination and certification. Please review the material and try again.</p>';
            }

            resultMessage += '<h4>Review:</h4>' + reviewContent;
            resultMessage += '<button onclick="resetQuiz()">Return to Quiz Menu</button>';

            document.getElementById('quiz-result').innerHTML = resultMessage;
            document.getElementById('quiz-container').style.display = 'none';
        }

        function toggleModelAnswer(questionNumber) {
            const modelAnswer = document.getElementById(`model-answer-${questionNumber}`);
            const showMoreButton = modelAnswer.previousElementSibling;
            if (modelAnswer.style.display === 'none' || modelAnswer.style.display === '') {
                modelAnswer.style.display = 'block';
                showMoreButton.textContent = 'Hide Model Answer';
            } else {
                modelAnswer.style.display = 'none';
                showMoreButton.textContent = 'Show Model Answer';
            }
        }

        function resetQuiz() {
            document.getElementById('quiz-menu').style.display = 'block';
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('quiz-result').innerHTML = '';
            quizMode = null;
            clearInterval(timer);
        }

        function calculateGeneratorEMF() {
            const flux = parseFloat(document.getElementById('flux').value);
            const poles = parseInt(document.getElementById('poles').value);
            const speed = parseInt(document.getElementById('speed').value);
            const conductors = parseInt(document.getElementById('conductors').value);
            const windingType = document.getElementById('winding-type').value;

            const A = windingType === 'wave' ? 2 : poles;
            const emf = (flux * poles * speed * conductors) / (60 * A);

            document.getElementById('generator-emf-result').innerHTML = `Generated EMF: ${emf.toFixed(2)} V`;
        }

        function calculateMotorSpeed() {
            const voltage = parseFloat(document.getElementById('voltage').value);
            const armatureCurrent = parseFloat(document.getElementById('armature-current').value);
            const armatureResistance = parseFloat(document.getElementById('armature-resistance').value);
            const torqueConstant = parseFloat(document.getElementById('torque-constant').value);

            const backEMF = voltage - (armatureCurrent * armatureResistance);
            const speed = (backEMF / torqueConstant) * (60 / (2 * Math.PI));

            document.getElementById('motor-speed-result').innerHTML = `Motor Speed: ${speed.toFixed(2)} RPM`;
        }

        const dictionary = {
            "Armature": "The power-producing component of an electrical machine, typically containing conductors wound into coils.",
            "Commutator": "A device used in DC machines to periodically reverse the current direction in the armature windings.",
            "Field Winding": "Coils of wire wound around the field poles to produce the main magnetic field in an electrical machine.",
            "Brush": "A device made of carbon or graphite that makes sliding contact with the commutator in a DC machine.",
            "Back EMF": "The electromotive force induced in the armature of a motor that opposes the applied voltage.",
            "Torque": "The rotational force produced by a motor or applied to a generator.",
            "Armature Reaction": "The effect of the magnetic field produced by the armature current on the main field in an electrical machine.",
            "Interpoles": "Small auxiliary poles placed between the main poles in a DC machine to improve commutation.",
            "Compensating Winding": "Additional conductors embedded in the pole faces to counteract armature reaction.",
            "Separately Excited": "A type of DC machine where the field winding is energized from an independent external source.",
            "Series Motor": "A DC motor where the field winding is connected in series with the armature circuit.",
            "Shunt Motor": "A DC motor where the field winding is connected in parallel with the armature circuit.",
            "Compound Motor": "A DC motor that has both series and shunt field windings.",
            "Ward-Leonard System": "A motor-generator set used for precise speed control of DC motors.",
            "Commutation": "The process of current reversal in the armature coils of a DC machine."
        };

        function searchDictionary() {
            const searchTerm = document.getElementById('dictionary-search').value.toLowerCase();
            const resultsContainer = document.getElementById('dictionary-results');
            resultsContainer.innerHTML = '';

            for (const [term, definition] of Object.entries(dictionary)) {
                if (term.toLowerCase().includes(searchTerm) || definition.toLowerCase().includes(searchTerm)) {
                    resultsContainer.innerHTML += `<p><strong>${term}:</strong> ${definition}</p>`;
                }
            }

            if (resultsContainer.innerHTML === '') {
                resultsContainer.innerHTML = '<p>No results found.</p>';
            }
        }

        // Set the default tab to 'content'
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelector('.tab-button').click();
        });
    </script>
</body>
</html>